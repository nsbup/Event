{% extends "base.html" %}
{% load static %}
{% load i18n %}
{% load templatehelpers %}
{% block maintitle %}test{% endblock %}
{% block headerscript %}
<script src="https://js.stripe.com/v3/"></script>

{% endblock %}
{% block content %}
<div class="sr-root">
  <div class="sr-main">
    <header class="sr-header">
      <div class="sr-header__logo"></div>
    </header>
    <div class="sr-payment-summary payment-view">
      <h1 class="order-amount">$14.00</h1>
      <h4>Purchase a Pasha photo</h4>
    </div>

    <div class="sr-payment-form payment-view">
      <div class="sr-form-row">
        <label for="card-element">
          Payment details
        </label>
        <div class="sr-combo-inputs">
          <div class="sr-combo-inputs-row">
            <div class="initial_callurl" initial-url="{{initial_url}}">
              <div class="pay_callurl" pay-url="{{pay_url}}">
                <input type="text" id="name" placeholder="Name" autocomplete="cardholder" class="sr-input" />
              </div>
              <div class="sr-combo-inputs-row">
                <div class="sr-input sr-card-element" id="card-element"></div>
              </div>
            </div>
            <div class="sr-field-error" id="card-errors" role="alert"></div>
            <div class="sr-form-row">
              <label class="sr-checkbox-label"><input type="checkbox" id="save-card"><span class="sr-checkbox-check"></span>
                Save card for future payments</label>
            </div>
          </div>
          <button id="submit">
            <div class="spinner hidden" id="spinner"></div><span id="button-text">Pay</span>
          </button>
          <div class="sr-legal-text">
            Your card will be charge $14.00.
          </div>
        </div>
        <div class="sr-payment-summary hidden completed-view">
          <h1>Your payment <span class="status"></span></h1>
          <h4>
            View PaymentIntent response:</a>
          </h4>
        </div>
        <div class="sr-section hidden completed-view">
          <div class="sr-callout">
            <pre>

          </pre>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}


{% block javascript %}

<script src="{% static 'stripe_subscription/js/stripe_payment_intent.js' %}"></script>
{% endblock %}
<!-- Load Css -->